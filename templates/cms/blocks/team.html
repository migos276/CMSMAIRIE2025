{% load wagtailimages_tags %}

<!-- Redesigned team section with modern cards -->
<section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        {% if value.titre_section %}
        <div class="text-center mb-16">
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4" style="background-color: var(--color-primary)15; color: var(--color-primary);">
                <i class="fas fa-users"></i>
                <span>Notre Equipe</span>
            </div>
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">{{ value.titre_section }}</h2>
            {% if value.sous_titre %}
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">{{ value.sous_titre }}</p>
            {% endif %}
        </div>
        {% endif %}
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-{% if value.colonnes %}{{ value.colonnes }}{% else %}4{% endif %} gap-8">
            {% for item in value.membres %}
            {% with membre=item.membre %}
            <div class="group bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden">
                <div class="relative">
                    {% if membre.photo %}
                    {% image membre.photo fill-400x400 as photo %}
                    <img src="{{ photo.url }}" alt="{{ membre.nom }}" class="w-full aspect-square object-cover group-hover:scale-105 transition duration-500">
                    {% else %}
                    <div class="w-full aspect-square bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
                        <i class="fas fa-user text-6xl text-gray-300"></i>
                    </div>
                    {% endif %}
                    
                    <!-- Overlay with social links -->
                    {% if membre.email or membre.telephone %}
                    <div class="absolute inset-0 bg-gradient-to-t from-gray-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-6">
                        <div class="flex gap-3">
                            {% if membre.email %}
                            <a href="mailto:{{ membre.email }}" class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-[--color-primary] transition transform hover:scale-110">
                                <i class="fas fa-envelope"></i>
                            </a>
                            {% endif %}
                            {% if membre.telephone %}
                            <a href="tel:{{ membre.telephone }}" class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-[--color-primary] transition transform hover:scale-110">
                                <i class="fas fa-phone"></i>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>
                
                <div class="p-6 text-center">
                    <h3 class="text-xl font-bold text-gray-900 mb-1">{{ membre.nom }}</h3>
                    <p class="font-medium" style="color: var(--color-primary);">{{ membre.fonction }}</p>
                </div>
            </div>
            {% endwith %}
            {% endfor %}
        </div>
    </div>
</section>
