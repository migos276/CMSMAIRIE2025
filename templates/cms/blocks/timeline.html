{% load wagtailimages_tags %}

<section class="py-16">
    <div class="container mx-auto px-4">
        {% if value.titre_section %}
        <h2 class="text-3xl font-bold text-center mb-12">{{ value.titre_section }}</h2>
        {% endif %}
        
        <div class="max-w-3xl mx-auto relative">
            <!-- Ligne verticale -->
            <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-gray-200 transform md:-translate-x-1/2"></div>
            
            {% for item in value.elements %}
            <div class="relative pl-12 md:pl-0 mb-8 {% cycle '' 'md:text-right' %}">
                <div class="{% cycle 'md:ml-auto md:mr-8 md:w-5/12' 'md:mr-auto md:ml-8 md:w-5/12' %}">
                    <!-- Point sur la timeline -->
                    <div class="absolute left-2.5 md:left-1/2 w-3 h-3 bg-[--color-primary] rounded-full transform md:-translate-x-1/2 mt-2"></div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <span class="inline-block px-3 py-1 bg-[--color-primary]/10 text-[--color-primary] text-sm font-medium rounded-full mb-3">
                            {{ item.date }}
                        </span>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">{{ item.titre }}</h3>
                        {% if item.description %}
                        <p class="text-gray-600">{{ item.description }}</p>
                        {% endif %}
                        
                        {% if item.image %}
                        {% image item.image fill-300x200 as img %}
                        <img src="{{ img.url }}" alt="{{ item.titre }}" class="mt-4 rounded-lg w-full">
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
